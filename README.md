![cover scm](https://github.com/iqbalstilllearning/scm-analysis-with-sql/assets/105572256/eac80519-382c-40f5-90c1-697759f518f2)
- Image credit : [iStock](https://www.istockphoto.com/id/foto/tampilan-atas-ke-bawah-udara-dari-kapal-kargo-kontainer-besar-dengan-ruang-salinan-gm1418267688-465015166)
- The dataset utilized originates from Kaggle : [Kaggle](https://www.kaggle.com/datasets/harshsingh2209/supply-chain-analysis)
- The source code for this project is available on my GitHub : [Github](https://github.com/iqbalstilllearning/scm-analysis-with-sql)
- Reach me out on : [LinkedIn](https://www.linkedin.com/in/muhammadiqbal-/)

# Supply Chain Analysis with SQL

**Problem Statement**

The company is experiencing challenges in its supply chain management, resulting in inefficiencies and potential revenue losses. There are issues such as varying availability, fluctuating stock levels, long lead times, and high transportation costs. Additionally, there are concerns about product quality and inspection results. To address these issues effectively, a comprehensive data analysis project needs to be undertaken.
  
**Project Objectives**

1. **Inventory Management**: Analyze stock levels and availability data to develop strategies for optimizing inventory levels. Aim to minimize stockouts while reducing excess inventory holding costs.
2. **Demand Analysis**: Understand the demand patterns for different product types and SKUs by analyzing the number of products sold, revenue generated, and customer demographics. Identify which products are in high demand and which ones require more attention to increase sales.
3. **Lead Times:** Investigate lead time data to identify bottlenecks and inefficiencies in the supply chain. Implement measures to reduce lead times, enhancing responsiveness to customer demands.
4. **Transportation Costs:** Analyze transportation data, including shipping times, carriers, routes, and costs. Identify opportunities to optimize transportation routes, modes, and carriers to minimize costs while maintaining service levels.
5. **Product Quality:** Analyze inspection results and defect rates to identify areas for improvement in product quality. Implement measures to enhance product quality and reduce defect rates, ultimately improving customer satisfaction and reducing returns.
6. **Supplier Relationships:** Evaluate supplier performance metrics such as lead times, production volumes, and manufacturing costs. Identify opportunities to strengthen supplier relationships, negotiate favorable terms, and ensure a reliable supply of high-quality products.
7. **Customer Demographics:** Analyze customer demographics data to understand purchasing behaviors and preferences across different customer segments. Tailor supply chain strategies and marketing efforts to better meet the needs of diverse customer groups.

```sql
-- 1. Optimize Inventory Management

-- Calculate Total Overall Income
SELECT SUM("Revenue generated") AS Total_Revenue
FROM supply_chain_data;

-- Display products with the lowest availability level
SELECT "Product type", SKU, Availability
FROM supply_chain_data
ORDER BY Availability ASC
LIMIT 5;

-- Calculate the total value of inventory (stock) per SKU   
SELECT SKU, "Stock levels" * Price AS Inventory_Value
FROM supply_chain_data;

-- Calculate average stock levels and lead times for each SKU
SELECT SKU, AVG("Stock levels") AS avg_stock_levels, AVG("Lead times") AS avg_lead_times
FROM supply_chain_data
GROUP BY SKU;

-- Calculating the average lead time for each SKU and displaying the SKU with the highest lead time
WITH AvgLeadTimePerSKU AS (
    SELECT SKU, AVG("Lead times") AS AvgLeadTime
    FROM supply_chain_data
    GROUP BY SKU
)
SELECT s.SKU, s."Lead times" AS MaxLeadTime
FROM supply_chain_data s
JOIN AvgLeadTimePerSKU a ON s.SKU = a.SKU
WHERE s."Lead times" = a.AvgLeadTime;

-- 2. Demand Analysis

-- Calculate total revenue generated by each product type
SELECT "Product type", SUM("Revenue generated") AS total_revenue
FROM supply_chain_data
GROUP BY "Product type";

-- Analyze distribution of sales across different customer demographics for each product
SELECT SKU , "Customer demographics", SUM("Number of products sold") AS total_sales
FROM supply_chain_data
GROUP BY SKU, "Customer demographics";

-- Identify top-selling product and their corresponding sales volumes
SELECT SKU, SUM("Number of products sold") AS total_sales
FROM supply_chain_data
GROUP BY SKU
ORDER BY total_sales DESC

--3. Reduce Lead Time

-- Calculating the average lead time per supplier
SELECT "Supplier name", AVG("Lead times") AS Avg_Lead_Time
FROM supply_chain_data
GROUP BY "Supplier name";

-- Calculating the average lead time per shipping route
SELECT Routes, AVG("Lead times") AS AvgLeadTime
FROM supply_chain_data
GROUP BY Routes;

-- Displaying the fastest shipping time for each SKU
WITH FastestShippingTime AS (
    SELECT SKU, MIN("Shipping times") AS MinShippingTime
    FROM supply_chain_data
    GROUP BY SKU
)
SELECT s.SKU, s."Shipping times" AS FastestShippingTime
FROM supply_chain_data s
JOIN FastestShippingTime f ON s.SKU = f.SKU
WHERE s."Shipping times" = f.MinShippingTime;

-- 4. Minimize Transportation Costs

-- Displaying the average shipping cost per carrier
SELECT "Shipping carriers", AVG("Shipping costs") AS Avg_Shipping_Cost
FROM supply_chain_data
GROUP BY "Shipping carriers";

-- Calculating the total transportation cost per mode of transportation
SELECT "Transportation modes", SUM(Costs) AS Total_Transportation_Cost
FROM supply_chain_data
GROUP BY "Transportation modes";

-- Identifying the best transportation mode based on shipping costs and shipping time
SELECT "Transportation modes", "Shipping carriers", AVG("Shipping costs") AS AvgShippingCost, AVG("Shipping times") AS AvgShippingTime
FROM supply_chain_data
GROUP BY "Transportation modes", "Shipping carriers"
ORDER BY AvgShippingCost, AvgShippingTime;

-- Displaying the shipping route with the lowest cost
SELECT Routes, SUM(Costs) AS TotalCost
FROM supply_chain_data
GROUP BY Routes
ORDER BY TotalCost;

-- 5. Improve Product Quality

-- Calculating the average defect rate per SKU
SELECT SKU, AVG("Defect rates") AS Avg_Defect_Rate
FROM supply_chain_data
GROUP BY SKU;

-- Displaying the distribution of defect rates by SKU
SELECT SKU, PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY "Defect rates") AS MedianDefectRate,
       PERCENTILE_CONT(0.75) WITHIN GROUP (ORDER BY "Defect rates") AS Q3DefectRate
FROM supply_chain_data
GROUP BY SKU;

-- Displaying the supplier(s) with the lowest defect rate
SELECT "Supplier name", AVG("Defect rates") AS AvgDefectRate
FROM supply_chain_data
GROUP BY "Supplier name"
ORDER BY AvgDefectRate;

-- 6. Enhance Supplier Relationships

-- Displaying the average production cost per SKU for each supplier
SELECT "Supplier name", SKU, AVG("Manufacturing costs") AS AvgManufacturingCost
FROM supply_chain_data
GROUP BY "Supplier name", SKU;

-- Calculating the total production per month for each supplier
SELECT "Supplier name", EXTRACT(MONTH FROM CURRENT_DATE) AS Month, SUM("Production volumes") AS TotalProduction
FROM supply_chain_data
GROUP BY "Supplier name", Month;

-- 7. Segment Customer Demographics

-- Displaying total revenue per customer demographic
SELECT "Customer demographics", SUM("Revenue generated") AS TotalRevenue
FROM supply_chain_data
GROUP BY "Customer demographics"
ORDER BY TotalRevenue DESC;

-- Calculating the number of products sold and identifying purchase trends based on customer demographics
SELECT "Customer demographics", EXTRACT(MONTH FROM CURRENT_DATE) AS Month, SUM("Number of products sold") AS TotalProductsSold
FROM supply_chain_data
GROUP BY "Customer demographics", Month;
```

![close](https://github.com/iqbalstilllearning/scm-analysis-with-sql/assets/105572256/5b0849ba-bd46-4953-a0e9-81595486707d)
